[{"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Create/index.js":"1","/Users/graham_bates/Documents/Dev/beatroute_react/src/App.js":"2","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/index.js":"3","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/layers/CustomPathLayer/path-layer/path.js":"4","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/CarouselActions.js":"5","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/index.js":"6","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/index.js":"7","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/Frame/index.js":"8","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddFront/index.js":"9","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/layers/TapeLayer/index.js":"10","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddSketch/index.js":"11","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Saver/index.js":"12","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/Carousel/index.js":"13","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddTitle/index.js":"14","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/saver.js":"15","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Label/index.js":"16","/Users/graham_bates/Documents/Dev/beatroute_react/src/serviceWorkerRegistration.js":"17","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Title/index.js":"18","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Photos/Add/index.js":"19","/Users/graham_bates/Documents/Dev/beatroute_react/src/util/cloudinary.js":"20","/Users/graham_bates/Documents/Dev/beatroute_react/src/index.js":"21","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/index.js":"22","/Users/graham_bates/Documents/Dev/beatroute_react/src/reportWebVitals.js":"23","/Users/graham_bates/Documents/Dev/beatroute_react/src/util/transform.js":"24","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/layers/CustomPathLayer/path-layer/path-tesselator.js":"25","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Title/Editor/index.js":"26","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Polaroids/HTML/index.js":"27","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/index.js":"28","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/index.js":"29","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/index.js":"30","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/Carousel/Carousel.js":"31"},{"size":933,"mtime":1612817174601,"results":"32","hashOfConfig":"33"},{"size":6909,"mtime":1613316663073,"results":"34","hashOfConfig":"33"},{"size":1754,"mtime":1613330897621,"results":"35","hashOfConfig":"33"},{"size":784,"mtime":1594352688000,"results":"36","hashOfConfig":"33"},{"size":297,"mtime":1612439894000,"results":"37","hashOfConfig":"33"},{"size":8292,"mtime":1613331203379,"results":"38","hashOfConfig":"33"},{"size":2193,"mtime":1613319991357,"results":"39","hashOfConfig":"33"},{"size":2050,"mtime":1613320250120,"results":"40","hashOfConfig":"33"},{"size":791,"mtime":1609549432000,"results":"41","hashOfConfig":"33"},{"size":5631,"mtime":1612046172000,"results":"42","hashOfConfig":"33"},{"size":1755,"mtime":1612611854048,"results":"43","hashOfConfig":"33"},{"size":4262,"mtime":1612615304471,"results":"44","hashOfConfig":"33"},{"size":1611,"mtime":1612218042000,"results":"45","hashOfConfig":"33"},{"size":769,"mtime":1609549452000,"results":"46","hashOfConfig":"33"},{"size":646,"mtime":1612779669780,"results":"47","hashOfConfig":"33"},{"size":264,"mtime":1612863865624,"results":"48","hashOfConfig":"33"},{"size":5065,"mtime":1609547506000,"results":"49","hashOfConfig":"33"},{"size":1798,"mtime":1612126988000,"results":"50","hashOfConfig":"33"},{"size":2178,"mtime":1613310994915,"results":"51","hashOfConfig":"33"},{"size":912,"mtime":1612876142636,"results":"52","hashOfConfig":"33"},{"size":751,"mtime":1609702156000,"results":"53","hashOfConfig":"33"},{"size":816,"mtime":1606957212000,"results":"54","hashOfConfig":"33"},{"size":364,"mtime":1609546470000,"results":"55","hashOfConfig":"33"},{"size":143,"mtime":1612216750000,"results":"56","hashOfConfig":"33"},{"size":5538,"mtime":1594352688000,"results":"57","hashOfConfig":"33"},{"size":1426,"mtime":1611939556000,"results":"58","hashOfConfig":"33"},{"size":974,"mtime":1612218398000,"results":"59","hashOfConfig":"33"},{"size":610,"mtime":1612779219677,"results":"60","hashOfConfig":"33"},{"size":1062,"mtime":1613314762225,"results":"61","hashOfConfig":"33"},{"size":1519,"mtime":1613331380964,"results":"62","hashOfConfig":"33"},{"size":2199,"mtime":1612136346000,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},"3cvbxk",{"filePath":"67","messages":"68","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"95"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"101"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"111"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"134"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"137","messages":"138","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Create/index.js",["141","142","143"],"import React, {useState, useEffect, Fragment} from 'react';\nimport gql from \"graphql-tag\";\nimport {Mutation} from \"react-apollo\";\n\nconst INSERT_SLIDE = gql`\n    mutation MyMutation($card_id : Int) {\n    \n      insert_slides(objects: {card_id: $card_id}) {\n        returning {\n          id\n        }\n      }\n    }\n`;\n\nexport default function ({card, refetch, slideIndex, setSlideIndex}) {\n\n\n\n    return (\n\n        <div>\n\n            <Mutation\n                onError={() => alert('Could not add slide')}\n                onCompleted={()=> {refetch(); setSlideIndex(slideIndex + 1) }}\n                mutation={INSERT_SLIDE}\n            >\n\n                {(add, {loading, error}) => {\n\n                    return <Fragment>\n                        <button onClick={() => {add({variables : {card_id : card.id}})}}>New slide</button>\n                    </Fragment>\n\n                }}\n            </Mutation>\n\n\n        </div>\n\n    );\n}\n","/Users/graham_bates/Documents/Dev/beatroute_react/src/App.js",["144","145","146","147","148"],"import React, { Fragment, useRef, useEffect, useState } from 'react';\nimport { gsap } from \"gsap\";\nimport './App.less';\n\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\n\nimport Measure from 'react-measure'\n\nimport { ApolloClient, InMemoryCache, HttpLink } from 'apollo-boost';\n\nimport { ApolloProvider } from \"react-apollo\";\n\nimport { Query } from \"react-apollo\";\n\nimport gql from \"graphql-tag\";\n\nimport * as portals from 'react-reverse-portal';\n\nimport {coordEach} from '@turf/meta';\n\nimport AddPhoto  from \"./Components/Photos/Add\";\nimport Deck       from \"./Components/Deck\";\n\nimport Front        from \"./Components/Cards/Front\";\nimport Title        from \"./Components/Cards/Title\";\nimport Sketch     from \"./Components/Cards/Sketch\";\nimport Polaroids  from \"./Components/Cards/Polaroids/HTML\";\n\nimport CardAdder from './Components/Adder';\nimport SimpleRichTextEditor from \"./Components/Cards/Title/Editor\";\n//import CarouselExample from './Components/Carousel/CarouselExample';\n\nconst GETCARD = gql`\n               {\n               \n                media {\n                  id\n                }\n  \n                owners(where: {id: {_eq: \"cyclefriendly\"}}) {\n                  id\n                  \n                  trips(where: {url: {_eq: \"lakes2021\"}}) {\n                    id\n                    name\n                    url\n                    geojson\n                    cards(order_by: {id: asc}) {\n                      id\n                      html\n                      type\n                      map\n                      title\n                      text\n                      camera\n                      content\n                      annotations\n                      landscapecamera\n                      geojson\n                      \n                     slides(order_by: {id: asc}) {\n                        camera\n                        id\n                        text\n                        media {\n                          id\n                          json\n                        }\n                        \n                      }\n                      \n                      assets(where: {type: {_eq: \"PHOTO\"}}) {\n                        data\n                      }\n                    }\n                  }\n                }\n              }\n\n`\n\nconst useContainerDimensions = myRef => {\n  const getDimensions = () => ({\n    width: myRef.current.offsetWidth,\n    height: myRef.current.offsetHeight\n  })\n\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 })\n\n  useEffect(() => {\n    const handleResize = () => {\n      setDimensions(getDimensions())\n    }\n\n    if (myRef.current) {\n      setDimensions(getDimensions())\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n    }\n  }, [myRef])\n\n  return dimensions;\n};\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst httpLink = new HttpLink({ uri: 'https://beatroute2019.herokuapp.com/v1/graphql' });\n\nconst client = new ApolloClient({ link: (httpLink), cache: new InMemoryCache() });\n\nconst App = () => {\n\n  const portalNode2 = React.useMemo(() => portals.createHtmlPortalNode(), []);\n\n  const [loadedCount, setLoadedCount] = useState(0);\n\n  const admin = true;\n\n  //return <SimpleRichTextEditor/>\n return (\n    <div className=\"App\">\n\n      <ApolloProvider client={client}>\n\n        <Query query={GETCARD}  >\n          {({ loading, error, data, refetch  }) => {\n\n            if (loading || !data) return null\n\n            const trip  = data.owners[0].trips[0];\n            const cards = data.owners[0].trips[0].cards;\n            const stillLoading = loadedCount < cards.length;\n\n            trip.cards.forEach(c => {\n              coordEach(c.geojson, function(coords) {\n                if (coords.length > 2) coords.pop();\n              });\n\n            });\n\n            return <Fragment>\n\n              <Measure bounds>\n\n                {({ measureRef, contentRect: { bounds: { width }} }) => (\n\n                    <div>\n\n                      <h1>{trip.name}</h1>\n                      <h2> <AddPhoto refetch={refetch}/> </h2>\n\n                      <main className=\"App-main\">\n\n                      <portals.InPortal node={portalNode2}>\n\n                        <div> this is one time component</div>\n                          {/*updateCard will be overwritten when called in Sketch*/}\n                          {/*<Deck trip={trip} width={width} updateCard={() => alert(\"not implemented\")}/>*/}\n                      </portals.InPortal>\n\n                        {cards.map((card, i) => {\n\n                          if (card.type === 'Front') {\n                            return <div className=\"App-section\" key={i} >\n                                    {admin && <code>{card.id}</code>}\n                                     <Front key={i + '' + card.id} trip={trip} card={card} index={i}/>\n                                   </div>\n                          }\n\n                          if (card.type === 'Title') {\n                            return <div className=\"App-section\" key={i} >\n                              {admin && <code>{card.id}</code>}\n                              <Title key={i + '' + card.id} card={card} i={i}/>\n                            </div>\n                          }\n\n                          if (true && card.type === 'Sketch') {\n\n                            return  <div className=\"App-section\" key={i} >\n                              { admin && <code>{JSON.stringify(card.id)}</code>}\n                              <Sketch trip={trip} portalNode2={portalNode2} width={width < 500 ? width : 500} admin={admin} stillLoading={stillLoading} incrementLoadedCount={() => setLoadedCount(loadedCount + 1)} key={i + '' + card.id} index={i} card={card} refetch={refetch}/>\n                            </div>\n                          }\n\n                          if (card.type === 'Polaroid') {\n\n                            return  <div className=\"App-section\" key={i} >\n                              {admin && <code>{card.id}</code>}\n                              <Polaroids width={width < 500 ? width : 500} admin={admin} stillLoading={stillLoading} incrementLoadedCount={() => setLoadedCount(loadedCount + 1)} key={i + '' + card.id} index={i} card={card} refetch={refetch}/>\n                            </div>\n                          }\n\n                          return null;\n                        })}\n\n                        <div className=\"App-section\" style={{height : '100%'}}>\n                          <CardAdder trip={trip} refetch={refetch}/>\n                        </div>\n\n                        <div ref={measureRef}>My width is {width}</div>\n\n\n\n                      </main>\n                    </div>\n\n                  )}\n              </Measure>\n\n            </Fragment>\n\n          }}\n\n        </Query>\n\n      </ApolloProvider>\n\n    </div>\n  );\n}\n\nexport default App;\n","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/index.js",["149","150","151"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/layers/CustomPathLayer/path-layer/path.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/CarouselActions.js",["152"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/index.js",["153"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/index.js",["154","155","156","157","158","159"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/Frame/index.js",["160","161","162","163"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddFront/index.js",["164","165"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/layers/TapeLayer/index.js",["166","167","168"],"import { CompositeLayer } from '@deck.gl/core';\nimport {BitmapLayer} from '@deck.gl/layers';\nimport {readPixelsToArray} from '@luma.gl/core';\nimport * as d3 from 'd3';\nimport {Matrix4} from \"math.gl\";\n\nvar canvas = document.createElement(\"canvas\");\ncanvas.width = 1000;\ncanvas.height = 800;\n\n// canvas.addEventListener(\"mousemove\", function(e){\n//     console.log(1);\n// }, false);\n\n\nvar xLast=0, yLast=450, xNow=0, yNow=0;\nvar Xarray = [], Yarray=[];\nvar brushDiameter = 7;\n\nvar context = canvas.getContext(\"2d\");\n\nvar margin = {top: 20, right: 70, bottom: 20, left: 100},\n    width = canvas.width - margin.left - margin.right,\n    height = canvas.height - margin.top - margin.bottom;\n\nvar parseTime = d3.timeParse(\"%d-%b-%y\");\n\nvar x = d3.scaleTime()\n    .range([0, width]);\n\nvar y = d3.scaleLinear()\n    .range([height, 0]);\n\nvar line = d3.line()\n    .x(function(d) {\n            Xarray.push(x(d.date));\n            // console.log(x(d.date));\n            return x(d.date);\n        }\n    )\n    .y(function(d) {\n            Yarray.push(y(d.close));\n            // console.log(y(d.close));\n            return y(d.close);\n        }\n    )\n    .curve(d3.curveStep)\n    .context(context);\n\ncontext.translate(margin.left, margin.top);\n\nd3.tsv(\"data.tsv\", function(d) {\n    d.date = parseTime(d.date);\n    d.close = +d.close;\n    return d;\n}).then(function(data) {\n    x.domain(d3.extent(data, function(d) { return d.date; }));\n    y.domain(d3.extent(data, function(d) { return d.close; }));\n\n    xAxis();\n    yAxis();\n\n    line(data);\n\n    context.lineWidth = brushDiameter;\n    for(var j=1;j<Xarray.length;j++){\n        context.beginPath();\n        context.strokeStyle = 'rgba(255,255,255,'+(0.4+Math.random()*0.2)+')';\n        xNow = Xarray[j];\n        yNow = Yarray[j];\n        //console.log( xLast, yLast,\"--\" ,xNow, yNow ,\"---\",'rgba(255,255,255,'+(0.4+Math.random()*0.2)+')');\n        context.moveTo(xLast, yLast);\n        context.lineTo(xNow, yNow);\n\n        context.stroke();\n\n        // Chalk Effect\n        var length = Math.round(Math.sqrt(Math.pow(xNow-xLast,2)+Math.pow(yNow-yLast,2))/(0.5 * brushDiameter));\n        var xUnit = (xNow-xLast)/length;\n        var yUnit = (yNow-yLast)/length;\n        for(var i=0; i<length; i++ ){\n            var xCurrent = xLast+(i*xUnit);\n            var yCurrent = yLast+(i*yUnit);\n            var xRandom = xCurrent+(Math.random()-0.5)*brushDiameter*0.4;\n            var yRandom = yCurrent+(Math.random()-0.5)*brushDiameter*0.4;\n            context.clearRect( xRandom, yRandom, Math.random()*2+2, Math.random()+1);\n        }\n        xLast = xNow;\n        yLast = yNow;\n    }\n\n});\n\nfunction xAxis() {\n    var tickCount = 10,\n        tickSize = 6,\n        ticks = x.ticks(tickCount),\n        tickFormat = x.tickFormat();\n\n    context.beginPath();\n    ticks.forEach(function(d) {\n        context.moveTo(x(d), height);\n        context.lineTo(x(d), height + tickSize);\n    });\n    context.strokeStyle = \"white\";\n    context.stroke();\n\n//   context.beginPath();\n//   context.moveTo(0, height);\n//   context.lineTo(width, height);\n//   context.strokeStyle = \"white\";\n//   context.stroke();\n\n    context.textAlign = \"center\";\n    context.textBaseline = \"top\";\n    context.fillStyle = \"white\";\n    ticks.forEach(function(d) {\n        context.fillText(tickFormat(d), x(d), height + tickSize);\n    });\n}\n\nfunction yAxis() {\n    var tickCount = 10,\n        tickSize = 6,\n        tickPadding = 3,\n        ticks = y.ticks(tickCount),\n        tickFormat = y.tickFormat(tickCount);\n\n    context.beginPath();\n    ticks.forEach(function(d) {\n        context.moveTo(0, y(d));\n        context.lineTo(-6, y(d));\n    });\n    context.strokeStyle = \"white\";\n    context.stroke();\n\n    context.beginPath();\n    context.moveTo(-tickSize, 0);\n    context.lineTo(0.5, 0);\n    context.lineTo(0.5, height);\n    context.lineTo(-tickSize, height);\n    context.strokeStyle = \"white\";\n    context.stroke();\n\n    context.textAlign = \"right\";\n    context.textBaseline = \"middle\";\n    context.fillStyle = \"white\";\n    ticks.forEach(function(d) {\n        context.fillText(tickFormat(d), -tickSize - tickPadding, y(d));\n    });\n\n    context.save();\n    context.rotate(-Math.PI / 2);\n    context.textAlign = \"right\";\n    context.textBaseline = \"top\";\n    context.font = \"bold 10px sans-serif\";\n    context.fillText(\"Price (US$)\", -10, 10);\n    context.restore();\n}\n\nexport default class TapeLayer extends CompositeLayer {\n\n    initializeState() {\n\n        let self = this;\n\n        this.setState({ });\n    }\n\n    shouldUpdateState({ changeFlags }) {\n        return changeFlags.somethingChanged;\n    }\n\n    finalizeState() {\n        super.finalizeState();\n    }\n\n    onClick(things) {\n        console.log(things.pixel);\n    }\n\n    renderLayers() {\n        const {  } = this.state;\n        const {  bounds } = this.props;\n\n        const t = new BitmapLayer({\n            opacity : 1,\n            pickable : true,\n            onClick: ({bitmap, layer}) => {\n                console.log('tape');\n                if (bitmap) {\n                    const pixelColor = readPixelsToArray(layer.props.image, {\n                        sourceX: bitmap.pixel[0],\n                        sourceY: bitmap.pixel[1],\n                        sourceWidth: 1,\n                        sourceHeight: 1\n                    })\n                    console.log('Color at picked pixel:', pixelColor)\n                }\n            },\n            id: 'mask-arrow-tape',\n            bounds: bounds,\n            image : canvas,\n            //image : '/textures/postit.png',\n\n        })\n\n        return [ t ] ;\n    }\n}\n\nTapeLayer.componentName = 'TapeLayer';\n",["169","170"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddSketch/index.js",["171","172"],"import React, {Fragment} from 'react';\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\n\nconst ADD = gql`\n\nmutation ($content : jsonb, $camera : jsonb, $polaroid_camera : jsonb, $trip_id : Int) {\n\n  insert_cards(objects: [\n                {trip_id: $trip_id, type: \"Sketch\", content : $content, slides : {data : [{camera : $camera}]}},\n              \n                ]) {\n    returning {\n      id\n    }\n  }\n}\n\n\n\n`;\n\nconst camera = {\"zoom\":3.0129167754311057,\"pitch\":0, \"bearing\":0,\"maxZoom\":20,\"minZoom\":0,\"altitude\":1.5,\"latitude\":8.256043799900645,\"maxBearing\":0,\"minBearing\":0,\"longitude\":2.6226391365730866};\nconst content = {\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[0,0],[4,0],[4,4],[0,4],[0,0]]]},\"properties\":{\"type\":\"map\"}},{\"type\":\"Feature\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-1.845703125,2.0210651187669897]},\"properties\":{\"type\":\"photo\"}}]};\n\nconst polaroid_camera = {\"zoom\":2.0340441946918117,\"target\":[21.82497956377069,41.576120620825634, 0],\"maxZoom\":20,\"minZoom\":0,\"orbitAxis\":\"Z\",\"rotationX\":0,\"maxRotationX\":90,\"minRotationX\":-90,\"rotationOrbit\":0};\n\nexport default ({trip, refetch}) => {\n\n    return <div>\n\n        <Mutation\n            onError={() => alert('Could not add sketch card')}\n            onCompleted={() => refetch()}\n            mutation={ADD}\n            variables={{content : content, camera : camera, trip_id : trip.id, polaroid_camera : polaroid_camera}}\n        >\n\n            {(add, {loading, error}) => {\n\n                return <wired-button elevation=\"2\" onClick={ add }>\n                            Add Sketch and photos {trip.name}\n                        </wired-button>\n\n            }}\n        </Mutation>\n\n    </div>\n}\n",["173","174"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Saver/index.js",["175"],"import React, {Fragment} from 'react';\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\n\nconst SAVE_TABLE = gql`\n\nmutation( $card_id : Int,  $camera : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {camera: $camera}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\nconst SAVE_SLIDE = gql`\n\nmutation( $slide_id : Int,  $camera : jsonb){\n                update_slides(where: {id: {_eq: $slide_id}}, _set: {camera: $camera}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\n\nconst SAVE_MAP = gql`\n\nmutation( $card_id : Int,  $map : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {map: $map}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\nconst SAVE_ANNOTATION = gql`\n\nmutation( $card_id : Int,  $annotations : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {annotations: $annotations}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\nconst SAVE_LANDSCAPE = gql`\n\nmutation( $card_id : Int,  $landscapecamera : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {landscapecamera: $landscapecamera}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\nexport default ({refetch, children}) => {\n\n    return <div>\n\n        <Mutation\n            onError={() => alert('Could not save slide')}\n            mutation={SAVE_SLIDE}\n        >\n\n            {(updateSlide, {loading, error}) => {\n\n\n        return <Mutation\n            onError={() => alert('Could not save map')}\n            mutation={SAVE_MAP}\n        >\n\n            {(updateMap, {loading, error}) => {\n\n                return  <Mutation\n                    onError={() => alert('Could not save camera')}\n                    mutation={SAVE_TABLE}\n                >\n\n                    {(updateCamera, {loading, error}) => {\n\n                        return <Fragment>\n                                    <Mutation\n                                        onError={() => alert('Could not save camera')}\n                                        mutation={SAVE_ANNOTATION}\n                                        onCompleted={() => refetch()}\n                                    >\n\n                                        {(updateAnnotation, {loading, error}) => {\n\n                                            return <Fragment>\n                                                        <Mutation\n                                                            onError={() => alert('Could not save landscaape')}\n                                                            mutation={SAVE_LANDSCAPE}\n                                                            onCompleted={() => refetch()}\n                                                        >\n\n                                                            {(updateLandscape, {loading, error}) => {\n\n                                                                return <Fragment>\n                                                                    {children(updateSlide, updateCamera, updateMap, updateAnnotation, updateLandscape, loading, error)}\n                                                                </Fragment>\n                                                            }}\n                                                        </Mutation>\n                                            </Fragment>\n                                        }}\n                                    </Mutation>\n                        </Fragment>\n                    }}\n                </Mutation>\n\n            }}\n        </Mutation>\n\n            }}\n        </Mutation>\n\n\n    </div>\n}\n",["176","177"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/Carousel/index.js",["178"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddTitle/index.js",["179","180"],"import React, {Fragment} from 'react';\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\n\nconst ADD = gql`\n\nmutation MyMutation($trip_id : Int) {\n  insert_cards(objects: {trip_id: $trip_id, type: \"Title\"}) {\n    returning {\n      id\n    }\n  }\n}\n`;\n\nexport default ({trip, refetch}) => {\n\n    return <div>\n\n        <Mutation\n            onError={() => alert('Could not add title card')}\n            onCompleted={() => refetch()}\n            mutation={ADD}\n            variables={{trip_id : trip.id}}\n        >\n\n            {(add, {loading, error}) => {\n\n                return <wired-button elevation=\"2\" onClick={ add }>\n                            Add Title\n                        </wired-button>\n\n            }}\n        </Mutation>\n\n    </div>\n}\n",["181","182"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/saver.js",["183"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Label/index.js",["184"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/serviceWorkerRegistration.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Title/index.js",["185","186","187","188","189","190","191"],"import React, {useState, useEffect, Fragment} from 'react'\nimport './index.less'\nimport Frame from \"../Front/Frame\";\nimport TextareaAutosize from 'react-textarea-autosize';\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport {annotate} from \"rough-notation\"\nconst SAVE_TITLE = gql`\n\nmutation( $card_id : Int,  $title : String){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {title: $title}) {\n                    returning {\n                                id\n                              }\n                    }\n                }\n`;\n\nconst SAVE_TEXT = gql`\n\nmutation( $card_id : Int,  $text : String){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {text: $text}) {\n                    returning {\n                                id\n                              }\n                    }\n                }\n`;\n\n\nexport default ({card, i}) => {\n\n    const [seconds, setSeconds] = useState(170);\n\n    return <div className={'Title'}>\n\n         <Frame width={350}  height={seconds} >\n\n                     <Mutation onError={() => alert('Could not save title')} mutation={SAVE_TITLE} >\n\n                         {(updateTitle, {loading, error}) => {\n\n                             return <h1 onBlur={(e) => updateTitle({\n                                 variables: {\n                                     title: e.currentTarget.textContent,\n                                     card_id: card.id\n                                 }\n                             })}\n                                 contentEditable suppressContentEditableWarning={true}>\n                                 {card.title}\n                             </h1>\n\n                         } }\n\n                     </Mutation>\n\n                    </Frame>\n\n    </div>\n\n}\n",["192","193"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Photos/Add/index.js",["194","195","196"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/util/cloudinary.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/index.js",[],["197","198"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/index.js",["199"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/reportWebVitals.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/util/transform.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/layers/CustomPathLayer/path-layer/path-tesselator.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Title/Editor/index.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Polaroids/HTML/index.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/index.js",["200","201","202","203","204"],"import React from 'react'\nimport Frame from './Frame'\nimport AddGPS from './AddGPS'\nimport AddGPSSaver from './AddGPS/saver'\nimport './index.less'\nimport {Mutation} from \"react-apollo\";\n\n// export default () => <Frame width={document.body.clientWidth}>\nexport default ({trip}) => <div className={'Front'}>\n                            <Frame width={450} height={600}>\n                                <h1>Lake District 2021</h1>\n\n\n\n                                <img style={{width : '300px' , height : 'auto'}} src={'/textures/title.png'}/>\n\n                            </Frame>\n                        </div>\n",["205","206"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/index.js",["207"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/index.js",["208","209","210"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Deck/Carousel/Carousel.js",["211"],{"ruleId":"212","severity":1,"message":"213","line":1,"column":16,"nodeType":"214","messageId":"215","endLine":1,"endColumn":24},{"ruleId":"212","severity":1,"message":"216","line":1,"column":26,"nodeType":"214","messageId":"215","endLine":1,"endColumn":35},{"ruleId":"217","severity":1,"message":"218","line":16,"column":1,"nodeType":"219","endLine":43,"endColumn":2},{"ruleId":"212","severity":1,"message":"220","line":1,"column":27,"nodeType":"214","messageId":"215","endLine":1,"endColumn":33},{"ruleId":"212","severity":1,"message":"221","line":22,"column":8,"nodeType":"214","messageId":"215","endLine":22,"endColumn":12},{"ruleId":"212","severity":1,"message":"222","line":30,"column":8,"nodeType":"214","messageId":"215","endLine":30,"endColumn":28},{"ruleId":"212","severity":1,"message":"223","line":81,"column":7,"nodeType":"214","messageId":"215","endLine":81,"endColumn":29},{"ruleId":"224","severity":1,"message":"225","line":103,"column":6,"nodeType":"226","endLine":103,"endColumn":13,"suggestions":"227"},{"ruleId":"212","severity":1,"message":"228","line":1,"column":17,"nodeType":"214","messageId":"215","endLine":1,"endColumn":32},{"ruleId":"212","severity":1,"message":"220","line":1,"column":34,"nodeType":"214","messageId":"215","endLine":1,"endColumn":40},{"ruleId":"212","severity":1,"message":"229","line":3,"column":13,"nodeType":"214","messageId":"215","endLine":3,"endColumn":20},{"ruleId":"212","severity":1,"message":"230","line":1,"column":8,"nodeType":"214","messageId":"215","endLine":1,"endColumn":13},{"ruleId":null,"fatal":true,"severity":2,"message":"231","line":105,"column":13},{"ruleId":"212","severity":1,"message":"232","line":1,"column":27,"nodeType":"214","messageId":"215","endLine":1,"endColumn":34},{"ruleId":"212","severity":1,"message":"233","line":5,"column":8,"nodeType":"214","messageId":"215","endLine":5,"endColumn":14},{"ruleId":"212","severity":1,"message":"234","line":5,"column":18,"nodeType":"214","messageId":"215","endLine":5,"endColumn":34},{"ruleId":"212","severity":1,"message":"235","line":5,"column":56,"nodeType":"214","messageId":"215","endLine":5,"endColumn":73},{"ruleId":"212","severity":1,"message":"236","line":23,"column":31,"nodeType":"214","messageId":"215","endLine":23,"endColumn":51},{"ruleId":"224","severity":1,"message":"237","line":35,"column":8,"nodeType":"226","endLine":35,"endColumn":28,"suggestions":"238"},{"ruleId":"212","severity":1,"message":"216","line":1,"column":26,"nodeType":"214","messageId":"215","endLine":1,"endColumn":35},{"ruleId":"217","severity":1,"message":"239","line":21,"column":1,"nodeType":"219","endLine":64,"endColumn":2},{"ruleId":"240","severity":1,"message":"241","line":43,"column":28,"nodeType":"242","endLine":43,"endColumn":43},{"ruleId":"240","severity":1,"message":"241","line":43,"column":44,"nodeType":"242","endLine":43,"endColumn":81},{"ruleId":"212","severity":1,"message":"243","line":1,"column":16,"nodeType":"214","messageId":"215","endLine":1,"endColumn":24},{"ruleId":"217","severity":1,"message":"239","line":16,"column":1,"nodeType":"219","endLine":37,"endColumn":2},{"ruleId":"212","severity":1,"message":"244","line":5,"column":9,"nodeType":"214","messageId":"215","endLine":5,"endColumn":16},{"ruleId":"212","severity":1,"message":"245","line":165,"column":13,"nodeType":"214","messageId":"215","endLine":165,"endColumn":17},{"ruleId":"246","severity":1,"message":"247","line":183,"column":15,"nodeType":"248","messageId":"249","endLine":183,"endColumn":19},{"ruleId":"250","replacedBy":"251"},{"ruleId":"252","replacedBy":"253"},{"ruleId":"212","severity":1,"message":"243","line":1,"column":16,"nodeType":"214","messageId":"215","endLine":1,"endColumn":24},{"ruleId":"217","severity":1,"message":"239","line":28,"column":1,"nodeType":"219","endLine":49,"endColumn":2},{"ruleId":"250","replacedBy":"254"},{"ruleId":"252","replacedBy":"255"},{"ruleId":"217","severity":1,"message":"239","line":65,"column":1,"nodeType":"219","endLine":129,"endColumn":2},{"ruleId":"250","replacedBy":"256"},{"ruleId":"252","replacedBy":"257"},{"ruleId":"212","severity":1,"message":"258","line":2,"column":30,"nodeType":"214","messageId":"215","endLine":2,"endColumn":34},{"ruleId":"212","severity":1,"message":"243","line":1,"column":16,"nodeType":"214","messageId":"215","endLine":1,"endColumn":24},{"ruleId":"217","severity":1,"message":"239","line":16,"column":1,"nodeType":"219","endLine":37,"endColumn":2},{"ruleId":"250","replacedBy":"259"},{"ruleId":"252","replacedBy":"260"},{"ruleId":"217","severity":1,"message":"239","line":17,"column":1,"nodeType":"219","endLine":29,"endColumn":12},{"ruleId":"217","severity":1,"message":"239","line":4,"column":1,"nodeType":"219","endLine":7,"endColumn":13},{"ruleId":"212","severity":1,"message":"216","line":1,"column":26,"nodeType":"214","messageId":"215","endLine":1,"endColumn":35},{"ruleId":"212","severity":1,"message":"243","line":1,"column":37,"nodeType":"214","messageId":"215","endLine":1,"endColumn":45},{"ruleId":"212","severity":1,"message":"261","line":4,"column":8,"nodeType":"214","messageId":"215","endLine":4,"endColumn":24},{"ruleId":"212","severity":1,"message":"262","line":7,"column":9,"nodeType":"214","messageId":"215","endLine":7,"endColumn":17},{"ruleId":"212","severity":1,"message":"263","line":19,"column":7,"nodeType":"214","messageId":"215","endLine":19,"endColumn":16},{"ruleId":"217","severity":1,"message":"239","line":31,"column":1,"nodeType":"219","endLine":61,"endColumn":2},{"ruleId":"212","severity":1,"message":"264","line":33,"column":21,"nodeType":"214","messageId":"215","endLine":33,"endColumn":31},{"ruleId":"250","replacedBy":"265"},{"ruleId":"252","replacedBy":"266"},{"ruleId":"212","severity":1,"message":"213","line":1,"column":16,"nodeType":"214","messageId":"215","endLine":1,"endColumn":24},{"ruleId":"212","severity":1,"message":"216","line":1,"column":26,"nodeType":"214","messageId":"215","endLine":1,"endColumn":35},{"ruleId":"212","severity":1,"message":"243","line":1,"column":37,"nodeType":"214","messageId":"215","endLine":1,"endColumn":45},{"ruleId":"250","replacedBy":"267"},{"ruleId":"252","replacedBy":"268"},{"ruleId":"217","severity":1,"message":"239","line":7,"column":1,"nodeType":"219","endLine":39,"endColumn":2},{"ruleId":"212","severity":1,"message":"269","line":3,"column":8,"nodeType":"214","messageId":"215","endLine":3,"endColumn":14},{"ruleId":"212","severity":1,"message":"270","line":4,"column":8,"nodeType":"214","messageId":"215","endLine":4,"endColumn":19},{"ruleId":"212","severity":1,"message":"271","line":6,"column":9,"nodeType":"214","messageId":"215","endLine":6,"endColumn":17},{"ruleId":"217","severity":1,"message":"239","line":9,"column":1,"nodeType":"219","endLine":18,"endColumn":31},{"ruleId":"272","severity":1,"message":"273","line":15,"column":33,"nodeType":"274","endLine":15,"endColumn":111},{"ruleId":"250","replacedBy":"275"},{"ruleId":"252","replacedBy":"276"},{"ruleId":"224","severity":1,"message":"277","line":28,"column":8,"nodeType":"226","endLine":28,"endColumn":10,"suggestions":"278"},{"ruleId":"212","severity":1,"message":"243","line":1,"column":16,"nodeType":"214","messageId":"215","endLine":1,"endColumn":24},{"ruleId":"217","severity":1,"message":"239","line":20,"column":1,"nodeType":"219","endLine":48,"endColumn":2},{"ruleId":"212","severity":1,"message":"279","line":25,"column":15,"nodeType":"214","messageId":"215","endLine":25,"endColumn":21},{"ruleId":"212","severity":1,"message":"280","line":7,"column":5,"nodeType":"214","messageId":"215","endLine":7,"endColumn":16},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","'useRef' is defined but never used.","'Deck' is defined but never used.","'SimpleRichTextEditor' is defined but never used.","'useContainerDimensions' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getDimensions'. Either include it or remove the dependency array.","ArrayExpression",["281"],"'useLayoutEffect' is defined but never used.","'portals' is defined but never used.","'React' is defined but never used.","Parsing error: Unexpected token\n\n  103 | \n  104 |             let xx =\n> 105 |             ;\n      |             ^\n  106 |             layers= layers.concat(slide.media.map(m =>\n  107 | \n  108 |                 new EditableGeoJsonLayer({","'useMemo' is defined but never used.","'DeckGL' is defined but never used.","'ScatterplotLayer' is defined but never used.","'FlyToInterpolator' is defined but never used.","'getCurrentActiveItem' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'prev' and 'slideToNextItem'. Either include them or remove the dependency array.",["282"],"Assign arrow function to a variable before exporting as module default","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'Fragment' is defined but never used.","'Matrix4' is defined but never used.","'self' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-native-reassign",["283"],"no-negated-in-lhs",["284"],["283"],["284"],["283"],["284"],"'Code' is defined but never used.",["283"],["284"],"'TextareaAutosize' is defined but never used.","'annotate' is defined but never used.","'SAVE_TEXT' is assigned a value but never used.","'setSeconds' is assigned a value but never used.",["283"],["284"],["283"],["284"],"'AddGPS' is defined but never used.","'AddGPSSaver' is defined but never used.","'Mutation' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["283"],["284"],"React Hook useCallback has missing dependencies: 'card.id' and 'updateTripGeojson'. Either include them or remove the dependency array. If 'updateTripGeojson' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["285"],"'center' is assigned a value but never used.","'SlideButton' is defined but never used.",{"desc":"286","fix":"287"},{"desc":"288","fix":"289"},"no-global-assign","no-unsafe-negation",{"desc":"290","fix":"291"},"Update the dependencies array to be: [getDimensions, myRef]",{"range":"292","text":"293"},"Update the dependencies array to be: [card.slides.length, prev, slideToNextItem]",{"range":"294","text":"295"},"Update the dependencies array to be: [card.id, updateTripGeojson]",{"range":"296","text":"297"},[2797,2804],"[getDimensions, myRef]",[1243,1263],"[card.slides.length, prev, slideToNextItem]",[758,760],"[card.id, updateTripGeojson]"]