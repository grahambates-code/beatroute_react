[{"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/index.js":"1","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-layer-fragment.glsl.js":"2","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/ListMedia/AssignPhotoToSlide/index.js":"3","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/Frame/index.js":"4","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/AdjustRotation/index.js":"5","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/index.js":"6","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/index.js":"7","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/ListMedia/index.js":"8","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/EditText/index.js":"9","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/ListMedia/Query/index.js":"10","/Users/graham_bates/Documents/Dev/beatroute_react/src/App.js":"11","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-tesselator.js":"12","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path.js":"13","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-layer.js":"14","/Users/graham_bates/Documents/Dev/beatroute_react/src/index.js":"15","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/index.js":"16","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/Frame/index.js":"17","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Polaroids/MaskModeFrame/index.js":"18","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Saver/index.js":"19","/Users/graham_bates/Documents/Dev/beatroute_react/src/reportWebVitals.js":"20","/Users/graham_bates/Documents/Dev/beatroute_react/src/util/transform.js":"21","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/Frame/Rect.js":"22","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-layer-vertex.glsl.js":"23","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Polaroids/HTML/index.js":"24","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Label/index.js":"25","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddSketch/index.js":"26","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Photos/Add/index.js":"27","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/saver.js":"28","/Users/graham_bates/Documents/Dev/beatroute_react/src/serviceWorkerRegistration.js":"29","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/RemoveMedia/index.js":"30","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/AnimatedThingLayer/index.js":"31","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/index.js":"32","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/AddAsset/index.js":"33","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddFront/index.js":"34","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Procedural/index.js":"35","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/AssetLayer/index.js":"36","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/EditLayer/index.js":"37"},{"size":3846,"mtime":1615901742093,"results":"38","hashOfConfig":"39"},{"size":2126,"mtime":1609997458000,"results":"40","hashOfConfig":"39"},{"size":897,"mtime":1614892383245,"results":"41","hashOfConfig":"39"},{"size":2077,"mtime":1616178125628,"results":"42","hashOfConfig":"39"},{"size":671,"mtime":1615056148302,"results":"43","hashOfConfig":"39"},{"size":7208,"mtime":1616241707789,"results":"44","hashOfConfig":"39"},{"size":2516,"mtime":1615418674390,"results":"45","hashOfConfig":"39"},{"size":1498,"mtime":1615225117166,"results":"46","hashOfConfig":"39"},{"size":1117,"mtime":1615291325166,"results":"47","hashOfConfig":"39"},{"size":1248,"mtime":1614892357764,"results":"48","hashOfConfig":"39"},{"size":6620,"mtime":1616073270042,"results":"49","hashOfConfig":"39"},{"size":5538,"mtime":1594352688000,"results":"50","hashOfConfig":"39"},{"size":784,"mtime":1594352688000,"results":"51","hashOfConfig":"39"},{"size":8974,"mtime":1610076816000,"results":"52","hashOfConfig":"39"},{"size":813,"mtime":1615896209499,"results":"53","hashOfConfig":"39"},{"size":610,"mtime":1612779219677,"results":"54","hashOfConfig":"39"},{"size":227,"mtime":1609705082000,"results":"55","hashOfConfig":"39"},{"size":933,"mtime":1612438994000,"results":"56","hashOfConfig":"39"},{"size":4943,"mtime":1615124055733,"results":"57","hashOfConfig":"39"},{"size":364,"mtime":1609546470000,"results":"58","hashOfConfig":"39"},{"size":143,"mtime":1612216750000,"results":"59","hashOfConfig":"39"},{"size":967,"mtime":1602453478000,"results":"60","hashOfConfig":"39"},{"size":8098,"mtime":1594352688000,"results":"61","hashOfConfig":"39"},{"size":974,"mtime":1612218398000,"results":"62","hashOfConfig":"39"},{"size":1177,"mtime":1613982127553,"results":"63","hashOfConfig":"39"},{"size":1555,"mtime":1614113251246,"results":"64","hashOfConfig":"39"},{"size":2178,"mtime":1613310994915,"results":"65","hashOfConfig":"39"},{"size":642,"mtime":1614025283403,"results":"66","hashOfConfig":"39"},{"size":5065,"mtime":1609547506000,"results":"67","hashOfConfig":"39"},{"size":1063,"mtime":1614786781619,"results":"68","hashOfConfig":"39"},{"size":1718,"mtime":1615557546275,"results":"69","hashOfConfig":"39"},{"size":1062,"mtime":1613314762225,"results":"70","hashOfConfig":"39"},{"size":1442,"mtime":1616083102897,"results":"71","hashOfConfig":"39"},{"size":791,"mtime":1609549432000,"results":"72","hashOfConfig":"39"},{"size":1122,"mtime":1615407657065,"results":"73","hashOfConfig":"39"},{"size":1075,"mtime":1616241744441,"results":"74","hashOfConfig":"39"},{"size":1940,"mtime":1616183173953,"results":"75","hashOfConfig":"39"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"3cvbxk",{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"86"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"86"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"106"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"118","messages":"119","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"134","usedDeprecatedRules":"135"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"140","messages":"141","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"143"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"135"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"154","messages":"155","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"157"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"160","messages":"161","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"162","messages":"163","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"164","messages":"165","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"166","messages":"167","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"168","messages":"169","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"170"},"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/index.js",["171","172","173","174","175","176"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-layer-fragment.glsl.js",["177"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/ListMedia/AssignPhotoToSlide/index.js",["178","179"],"import React, {Fragment} from 'react';\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\n\nconst SET = gql`\n\nmutation MyMutation($slide_id : Int, $data : jsonb) {\n  update_card_slide(where: {id: {_eq: $slide_id}}, _set: {data: $data}) {\n    returning {\n      id\n    }\n  }\n}\n\n`;\n\nexport default ({slide, media, refetch,  closeModal, pointB}) => {\n\n    return <div>\n\n        <Mutation\n            onError={() => alert('Could not add title card')}\n            onCompleted={() => closeModal() && refetch && refetch() }\n            mutation={SET}\n            variables={{slide_id : slide.id, data : {...slide.data, pointB : pointB, photo : media.json.url} }}>\n\n            {(set, {loading, error}) => {\n\n                return <wired-button elevation=\"2\" onClick={ set }>\n                   Set photo\n                </wired-button>\n\n            }}\n        </Mutation>\n\n    </div>\n}\n","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/Frame/index.js",["180","181","182","183","184","185","186"],"import React, {useState, useEffect} from 'react'\nimport './index.less'\nimport {Mutation} from \"react-apollo\";\nimport Create from './../../Create'\nimport gql from \"graphql-tag\";\nimport {Slider} from 'antd';\nimport AddGPSSaver from \"../../../Cards/Front/AddGPS/saver\";\nimport AddGPS from \"../../../Cards/Front/AddGPS\";\nimport AddPhoto from '../SlideMedia/AddMedia'\nimport RemovePhoto from '../SlideMedia/RemoveMedia'\nimport ListMedia from '../SlideMedia/ListMedia'\nimport DeleteSlide from '../SlideMedia/DeleteSlide'\nimport AdjustRotation from '../SlideMedia/AdjustRotation'\nimport EditText from '../SlideMedia/EditText'\nimport AddAsset from '../SlideMedia/AddAsset'\n\nexport default ({setLocked, card, slide, refetch, slideIndex, setSlideIndex, viewState,slidePhotoRotation, setSlidePhotoRotation}) => {\n\n    const [edit, setEdit] = useState(false);\n\n    return <div className={'slide'} >\n\n        {!edit && slide.data?.text}\n\n        {edit && <EditText slideIndex={slideIndex} edit={edit} slide={slide} refetch={refetch} setSlideIndex={setSlideIndex}/> }\n\n        <DeleteSlide slide={slide} refetch={refetch}/>\n\n        <AddAsset slide={slide} refetch={refetch} viewState={viewState} type={'/textures/arrow2.glb'}/>\n\n        <br/>\n\n        <AdjustRotation setLocked={setLocked} slidePhotoRotation={slidePhotoRotation} setSlidePhotoRotation={setSlidePhotoRotation} slide={slide} refetch={refetch}/>\n\n        <button onClick={() => setEdit(true)}>Edit</button>\n\n        {slideIndex + 1  === card.slides.length && <Create card={card} refetch={refetch} slideIndex={slideIndex} setSlideIndex={setSlideIndex}/> }\n\n        <AddGPSSaver refetch={refetch} >\n            {(updateTripGeojson, {loading, error}) => <AddGPS card={card} updateTripGeojson={updateTripGeojson}/> }\n        </AddGPSSaver>\n\n        {/*<AddPhoto slide={slide} refetch={refetch} viewState={viewState}/>*/}\n\n        {/*<RemovePhoto slide={slide} refetch={refetch} viewState={viewState}/>*/}\n\n        {viewState && <ListMedia slide={slide} refetch={refetch} viewState={viewState} /> }\n\n        <br/>\n\n\n\n    </div>\n\n}\n",["187","188"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/AdjustRotation/index.js",["189"],"import {Popover, Button, Slider} from 'antd';\nimport React from \"react\";\n\nexport default ({setLocked, slidePhotoRotation, setSlidePhotoRotation}) => {\n\n    const content = (\n        <div>\n            <Slider min={-90} max={90} defaultValue={0} onChange={(e) => setSlidePhotoRotation({...slidePhotoRotation, rotation : e})} />\n            <Slider min={0} max={500} defaultValue={10} onChange={(e) => setSlidePhotoRotation({...slidePhotoRotation, scale : e})} />\n        </div>\n    );\n\n    return <div>\n        <Popover content={content} title=\"Title\" trigger=\"click\" >\n            <Button onClick={() => setLocked(true)}>Click me</Button>\n        </Popover>\n    </div>\n\n}\n",["190","191"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/index.js",["192","193","194","195","196","197","198","199","200","201","202","203","204","205","206"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/index.js",["207","208","209","210","211","212","213"],"import React, {useEffect, useMemo, useRef, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSpringCarousel } from 'react-spring-carousel-js';\nimport DeckGL, { ScatterplotLayer, LinearInterpolator, FlyToInterpolator } from \"deck.gl\";\nimport CarouselActions from './CarouselActions';\nimport Frame from './Slide/Frame'\nimport './index.less';\n\nfunction usePrevious(value) {\n    const ref = useRef();\n    useEffect(() => {\n        ref.current = value;\n    });\n    return ref.current;\n}\n\n\nfunction Carousel({ slidePhotoRotation, setSlidePhotoRotation, setCurrentPhoto, viewState, setViewState, setSlideIndex, slideIndex, card,refetch, className, style }) {\n\n    const prev = usePrevious({ slides : card.slides.length});\n    const [locked, setLocked] = useState(false);\n\n    const { carouselFragment, getCurrentActiveItem, useListenToCustomEvent, slideToNextItem } = useSpringCarousel({\n        withLoop: false,\n\n        items: card.slides.map((slide, index) => ({\n            id: index,\n            renderItem: <Frame setLocked={setLocked} slidePhotoRotation={slidePhotoRotation} setSlidePhotoRotation={setSlidePhotoRotation} viewState={viewState} card={card} slide={slide} refetch={refetch} slideIndex={slideIndex} setSlideIndex={setSlideIndex}></Frame>\n        }))\n    });\n\n    //if slides increased, move along\n    useEffect(() => {\n        if (prev && card.slides.length > prev.slides) slideToNextItem();\n    }, [card.slides.length]);\n\n    useListenToCustomEvent( 'onSlideStartChange', name => {\n\n        //console.log(card.slides[name.nextItem].camera);\n        setSlideIndex(name.nextItem);\n        setCurrentPhoto(card.slides[name.nextItem].data.geojson); //setting photo geojson state\n\n        card.slides[name.nextItem].camera && setViewState({\n            transitionDuration: 750,\n            transitionInterpolator: new LinearInterpolator(),\n            ...card.slides[name.nextItem].camera});\n    });\n\n    return (\n        <div\n            className={classNames(\n                'carousel',\n                className,\n            )}\n            style={style}\n        >\n\n            <div className=\"carousel-wrapper\">\n                <div style={{ flex: 1 }}>\n                    {carouselFragment}\n                </div>\n            </div>\n\n        </div>\n    );\n}\n\nCarousel.propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n    children: PropTypes.node\n};\n\nCarousel.ItemActions = CarouselActions;\n\nexport default Carousel;\n","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/ListMedia/index.js",["214"],"import React, {Fragment, useState} from 'react';\nimport './index.less'\nimport Query from './Query'\nimport \"wired-elements\";\nimport Modal from 'react-modal';\nimport {WebMercatorViewport} from '@deck.gl/core';\nimport * as turf from \"@turf/turf\";\n\nexport default ({slide, viewState}) => {\n\n    const [modalIsOpen,setIsOpen] = useState(false);\n\n    function openModal() {\n        setIsOpen(true);\n    }\n\n    function closeModal(){\n        setIsOpen(false);\n    }\n\n    const viewport  = new WebMercatorViewport(viewState);\n    const center    = viewport.unproject([viewport.width/2,viewport.width/2], {topLeft : true})\n    const pointB    = { scale : 1, rotation : 1,position : turf.featureCollection([turf.point(center)])};\n\n    return <Fragment>\n\n         <button onClick={openModal}>Open Modal</button>\n\n         <Modal\n             isOpen={modalIsOpen}\n             onRequestClose={closeModal}\n             style={{\n                 content : {\n                     top                   : '50%',\n                     left                  : '50%',\n                     right                 : 'auto',\n                     bottom                : 'auto',\n                     marginRight           : '-50%',\n                     transform             : 'translate(-50%, -50%)'\n                 }\n             }}\n         >\n\n             <button onClick={closeModal}>close</button>\n\n             <Query slide={slide} closeModal={closeModal} pointB={ pointB }/>\n\n         </Modal>\n\n     </Fragment>\n}\n","/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/EditText/index.js",["215","216","217"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/ListMedia/Query/index.js",["218","219","220","221"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/App.js",["222","223","224","225","226"],"import React, { Fragment, useRef, useEffect, useState } from 'react';\nimport { gsap } from \"gsap\";\nimport './App.less';\n\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\n\nimport Measure from 'react-measure'\n\nimport { ApolloClient, InMemoryCache, HttpLink } from 'apollo-boost';\n\nimport { ApolloProvider } from \"react-apollo\";\n\nimport { Query } from \"react-apollo\";\n\nimport gql from \"graphql-tag\";\n\nimport * as portals from 'react-reverse-portal';\n\nimport {coordEach} from '@turf/meta';\n\nimport AddPhoto  from \"./Components/Photos/Add\";\nimport Deck       from \"./Components/Cards/Sketch/Deck\";\n\nimport Front        from \"./Components/Cards/Front\";\nimport Title        from \"./Components/Cards/Title\";\nimport Sketch     from \"./Components/Cards/Sketch\";\nimport Polaroids  from \"./Components/Cards/Polaroids/HTML\";\n\nimport CardAdder from './Components/Adder';\nimport SimpleRichTextEditor from \"./Components/Cards/Title/Editor\";\n//import CarouselExample from './Components/Carousel/CarouselExample';\n\nconst GETCARD = gql`\n               {\n               \n                media {\n                  id\n                }\n  \n                owners:owner(where: {id: {_eq: \"cyclefriendly\"}}) {\n                  id\n                  \n                  trips(where: {url: {_eq: \"lakes2021\"}}) {\n                    id\n                    name\n                    url\n                    \n                    cards(order_by: {id: asc}) {\n                      id\n                      type\n                      data\n                      \n                      slides(order_by: {id: asc}) {\n                          camera\n                          data\n                          id\n                          assets {\n                                  id\n                                  data\n                                  type\n                          }\n                      }\n                      \n                    }\n                  }\n                }\n              }\n\n`\n\nconst useContainerDimensions = myRef => {\n  const getDimensions = () => ({\n    width: myRef.current.offsetWidth,\n    height: myRef.current.offsetHeight\n  })\n\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 })\n\n  useEffect(() => {\n    const handleResize = () => {\n      setDimensions(getDimensions())\n    }\n\n    if (myRef.current) {\n      setDimensions(getDimensions())\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n    }\n  }, [myRef])\n\n  return dimensions;\n};\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst httpLink = new HttpLink({ uri: 'https://guided-viper-73.hasura.app/v1/graphql' });\n\nconst client = new ApolloClient({ link: (httpLink), cache: new InMemoryCache() });\n\nconst App = () => {\n\n  const portalNode2 = React.useMemo(() => portals.createHtmlPortalNode(), []);\n\n  const [loadedCount, setLoadedCount] = useState(0);\n\n  const admin = true;\n\n  //return <SimpleRichTextEditor/>\n return (\n    <div className=\"App\">\n\n      <ApolloProvider client={client}>\n\n        <Query query={GETCARD}  >\n          {({ loading, error, data, refetch  }) => {\n\n            if (loading || !data) return null\n\n            const trip  = data.owners[0].trips[0];\n            const cards = data.owners[0].trips[0].cards;\n            const stillLoading = loadedCount < cards.length;\n\n            trip.cards.forEach(c => {\n              coordEach(c.data, function(coords) {\n                if (coords.length > 2) coords.pop();\n              });\n\n            });\n\n            return <Fragment>\n\n              <Measure bounds>\n\n                {({ measureRef, contentRect: { bounds: { width }} }) => (\n\n                    <div>\n\n                      <h1>{trip.name}</h1>\n\n                      <h2> <AddPhoto refetch={refetch}/> </h2>\n\n                      <main className=\"App-main\">\n\n                      <portals.InPortal node={portalNode2}>\n\n                        <div> this is one time component</div>\n                          {/*updateCard will be overwritten when called in Sketch*/}\n                          {/*<Deck trip={trip} width={width} updateCard={() => alert(\"not implemented\")}/>*/}\n                      </portals.InPortal>\n\n                        {cards.map((card, i) => {\n\n                          if (card.type === 'Front') {\n                            return <div className=\"App-section\" key={i} >\n                                    {admin && <code>{card.id}</code>}\n                                     <Front key={i + '' + card.id} trip={trip} card={card} index={i}/>\n                                   </div>\n                          }\n\n                          if (card.type === 'Title') {\n                            return <div className=\"App-section\" key={i} >\n                              {admin && <code>{card.id}</code>}\n                              <Title key={i + '' + card.id} card={card} i={i}/>\n                            </div>\n                          }\n\n                          if (true && card.type === 'Sketch') {\n\n                            return  <div className=\"App-section\" key={i} >\n                              { admin && <code>{JSON.stringify(card.id)}</code>}\n                              <Sketch client={client} trip={trip} portalNode2={portalNode2} width={width < 500 ? width : 500} admin={admin} stillLoading={stillLoading} incrementLoadedCount={() => setLoadedCount(loadedCount + 1)} key={i + '' + card.id} index={i} card={card} refetch={refetch}/>\n                            </div>\n                          }\n\n                          if (card.type === 'Polaroid') {\n\n                            return  <div className=\"App-section\" key={i} >\n                              {admin && <code>{card.id}</code>}\n                              <Polaroids width={width < 500 ? width : 500} admin={admin} stillLoading={stillLoading} incrementLoadedCount={() => setLoadedCount(loadedCount + 1)} key={i + '' + card.id} index={i} card={card} refetch={refetch}/>\n                            </div>\n                          }\n\n                          return null;\n                        })}\n\n                        <div className=\"xApp-section\" style={{height : '100%'}}>\n                          <CardAdder trip={trip} refetch={refetch}/>\n                        </div>\n\n                        <div ref={measureRef}>My width is {width}</div>\n\n\n\n                      </main>\n                    </div>\n\n                  )}\n              </Measure>\n\n            </Fragment>\n\n          }}\n\n        </Query>\n\n      </ApolloProvider>\n\n    </div>\n  );\n}\n\nexport default App;\n",["227","228"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-tesselator.js",[],["229","230"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-layer.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/index.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/index.js",["231","232","233","234","235"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/Frame/index.js",["236","237","238","239"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Polaroids/MaskModeFrame/index.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Saver/index.js",["240"],"import React, {Fragment} from 'react';\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\n\nconst SAVE_TABLE = gql`\n\nmutation( $card_id : Int,  $camera : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {camera: $camera}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\nconst SAVE_SLIDE = gql`\n\nmutation( $slide_id : Int,  $camera : jsonb, $data : jsonb){\n                update_card_slide(where: {id: {_eq: $slide_id}}, _set: {data : $data, camera : $camera}) {\n                    returning {\n                                data\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\n\nconst SAVE_SLIDE_MEDIA = gql`\n\nmutation( $slidemedia_id : Int,  $json : jsonb){\n                update_slide_media(where: {id: {_eq: $slidemedia_id}}, _set: {json: $json}) {\n                    returning {\n                                id\n                              }\n                    }\n                }\n`;\n\n\nconst SAVE_MAP = gql`\n\nmutation( $card_id : Int,  $map : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {map: $map}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\nconst SAVE_ANNOTATION = gql`\n\nmutation( $card_id : Int,  $annotations : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {annotations: $annotations}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\nconst SAVE_LANDSCAPE = gql`\n\nmutation( $card_id : Int,  $landscapecamera : jsonb){\n                update_cards(where: {id: {_eq: $card_id}}, _set: {landscapecamera: $landscapecamera}) {\n                    returning {\n                                camera\n                                id\n                              }\n                    }\n                }\n`;\n\nexport default ({refetch, children}) => {\n\n    return <div>\n\n        <Mutation\n            onError={() => alert('Could not save slide media')}\n            onCompleted={() => refetch()}\n            mutation={SAVE_SLIDE_MEDIA}\n        >\n\n            {(updateSlideMedia, {loading, error}) => {\n\n\n        return <Mutation\n            onError={() => alert('Could not save slide')}\n            mutation={SAVE_SLIDE}\n        >\n\n            {(updateSlide, {loading, error}) => {\n\n\n        return <Mutation\n            onError={() => alert('Could not save map')}\n            mutation={SAVE_MAP}\n        >\n\n            {(updateMap, {loading, error}) => {\n\n                return  <Mutation\n                    onError={() => alert('Could not save camera')}\n                    mutation={SAVE_TABLE}\n                >\n\n                    {(updateCamera, {loading, error}) => {\n\n                        return <Fragment>\n                                    <Mutation\n                                        onError={() => alert('Could not save camera')}\n                                        mutation={SAVE_ANNOTATION}\n                                        onCompleted={() => refetch()}\n                                    >\n\n                                        {(updateAnnotation, {loading, error}) => {\n\n                                            return <Fragment>\n                                                        <Mutation\n                                                            onError={() => alert('Could not save landscaape')}\n                                                            mutation={SAVE_LANDSCAPE}\n                                                            onCompleted={() => refetch()}\n                                                        >\n\n                                                            {(updateLandscape, {loading, error}) => {\n\n                                                                return <Fragment>\n                                                                    {children(updateSlide, updateCamera, updateMap, updateAnnotation, updateLandscape, updateSlideMedia, loading, error)}\n                                                                </Fragment>\n                                                            }}\n                                                        </Mutation>\n                                            </Fragment>\n                                        }}\n                                    </Mutation>\n                        </Fragment>\n                    }}\n                </Mutation>\n\n            }}\n        </Mutation>\n\n            }}\n        </Mutation>\n\n            }}\n        </Mutation>\n\n    </div>\n}\n",["241","242"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/reportWebVitals.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/util/transform.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/Frame/Rect.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/CustomPathLayer/path-layer/path-layer-vertex.glsl.js",["243"],"// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default `\\\n#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\nuniform bool billboard;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * jointType * 4.0 * flipIfTrue(isStartCap), isJoint);\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.worldPosition = instanceStartPositions;\n  geometry.worldPositionAlt = instanceEndPositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec2 widthPixels = vec2(clamp(project_size_to_pixel(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0);\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    vec2 width = project_pixel_size_to_clipspace(widthPixels);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      width\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    vec2 width = project_pixel_size(widthPixels);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n`;\n",["244","245"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Polaroids/HTML/index.js",[],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Label/index.js",["246","247","248","249"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddSketch/index.js",["250","251"],"import React, {Fragment} from 'react';\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\n\nconst ADD = gql`\n\nmutation ($content : jsonb, $camera : jsonb, $trip_id : Int, $slide_data : jsonb) {\n\n  insert_card(objects: [\n                {trip_id: $trip_id, type: \"Sketch\", data : $content, slides : {data : [{data : $slide_data, camera : $camera}]}},\n              \n                ]) {\n    returning {\n      id\n    }\n  }\n}\n\n\n\n`;\n\nconst camera = {\"zoom\":3.0129167754311057,\"pitch\":0, \"bearing\":0,\"maxZoom\":20,\"minZoom\":0,\"altitude\":1.5,\"latitude\":8.256043799900645,\"maxBearing\":0,\"minBearing\":0,\"longitude\":2.6226391365730866};\nconst content = {\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[0,0],[4,0],[4,4],[0,4],[0,0]]]},\"properties\":{\"type\":\"map\"}},{\"type\":\"Feature\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-1.845703125,2.0210651187669897]},\"properties\":{\"type\":\"photo\"}}]};\n\n\nexport default ({trip, refetch}) => {\n\n    return <div>\n\n        <Mutation\n            onError={() => alert('Could not add sketch card')}\n            onCompleted={() => refetch()}\n            mutation={ADD}\n            variables={{ camera : camera, content : content, slide_data : {text : 'Write here'}, trip_id : trip.id }}\n        >\n\n            {(add, {loading, error}) => {\n\n                return <wired-button elevation=\"2\" onClick={ add }>\n                            Add Sketch and photos {trip.name}\n                        </wired-button>\n\n            }}\n        </Mutation>\n\n    </div>\n}\n",["252","253"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Photos/Add/index.js",["254","255","256"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/saver.js",["257"],"import React, {Fragment} from 'react'\nimport {Mutation} from \"react-apollo\";\nimport gql from \"graphql-tag\";\n\nconst SAVE_TRIP_GEOJSON = gql`\n\nmutation MyMutation($id : Int, $geojson : jsonb) {\n\n  update_card(where: {id: {_eq: $id}}, _set: {data: $geojson}) {\n    returning {\n      id\n    }\n  }\n}\n`;\n\nexport default ({trip, children, refetch}) => <Mutation\n    onError={() => alert('Could not save trip')}\n    mutation={SAVE_TRIP_GEOJSON}\n    onCompleted={() => refetch()}\n>\n\n    {(updateLandscape, {loading, error}) => {\n\n        return <Fragment>\n            {children(updateLandscape, loading, error)}\n        </Fragment>\n    }}\n</Mutation>\n","/Users/graham_bates/Documents/Dev/beatroute_react/src/serviceWorkerRegistration.js",[],["258","259"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/RemoveMedia/index.js",["260","261","262","263"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/AnimatedThingLayer/index.js",["264","265","266"],"import React from 'react';\nimport * as turf from '@turf/turf/index';\nimport { CompositeLayer } from '@deck.gl/core';\nimport {BitmapLayer, GeoJsonLayer} from \"@deck.gl/layers\";\nimport rough from 'roughjs/bundled/rough.esm'\n\nconst seed = rough.newSeed();\n\nclass CanvasDisplay {\n\n  constructor() {\n    this.canvas = document.createElement('canvas');\n\n    this.ctx = this.canvas.getContext('2d');\n    this.x = 0;\n\n    this.stageConfig = {\n      width: 5000,\n      height: 5000\n    };\n\n    this.canvas.width = this.stageConfig.width;\n    this.canvas.height = this.stageConfig.height;\n\n    this.rc = rough.canvas(this.canvas);\n\n    const that = this;\n\n\n    this.rc.ellipse(2500, 2500, 2500,2000, {roughness: 2.8,strokeWidth : 100, stroke: 'black', seed });\n\n\n  }\n\n}\n\nlet canvasDisplay = new CanvasDisplay();\n\nclass SketchDeck extends BitmapLayer {\n  constructor(props) {\n\n    const center = turf.point(props.center);\n\n    var radius = 1000;\n    var options = {units: 'meters' };\n    var circle = turf.circle(center, radius, options);\n\n    const [left, bottom, right, top] = turf.bbox(circle);\n\n    const params = {\n\n      id: 'bitmap-layer4',\n      bounds:   [[left, bottom], [left, top], [right, top], [right, bottom]],\n      image: canvasDisplay.canvas,\n\n      parameters: {\n        depthTest: false,\n\n      }\n    };\n\n    super(params);\n  }\n}\n\nexport default class Animated extends CompositeLayer {\n\n  initializeState() {\n\n  }\n\n  shouldUpdateState({ changeFlags }) {\n    return changeFlags.somethingChanged;\n  }\n\n  finalizeState() {\n    super.finalizeState();\n  }\n\n  renderLayers() {\n\n    const sketch = new SketchDeck({  center : this.props.center});\n\n    return [  sketch ];\n  }\n}\n\n\nAnimated.layerName= 'AnimatedLayer';\n",["267","268"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Front/AddGPS/index.js",["269"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Carousel/Slide/SlideMedia/AddAsset/index.js",["270","271","272","273"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Adder/AddFront/index.js",["274","275"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Procedural/index.js",["276","277","278","279"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/AssetLayer/index.js",["280"],"/Users/graham_bates/Documents/Dev/beatroute_react/src/Components/Cards/Sketch/Deck/layers/EditLayer/index.js",["281","282","283","284"],"import { CompositeLayer } from '@deck.gl/core';\nimport {BitmapLayer} from '@deck.gl/layers';\nimport GL from '@luma.gl/constants';\nimport * as turf from \"@turf/turf\";\nimport { EditableGeoJsonLayer, TransformMode, TranslateMode } from \"nebula.gl\";\n\nconst VISIBLE = 1;\n\nexport default class MaskLayer extends CompositeLayer {\n\n    initializeState() {\n        const { asset } = this.props;\n\n        console.log(turf.feature(([  -2.8729248046875, 54.54339315407258 ])));\n       // this.setState({position : turf.feature([  -2.8729248046875, 54.54339315407258 ])});\n    }\n\n    renderLayers() {\n\n       const { asset } = this.props;\n\n       console.log(this.state.position);\n\n       const edit = new EditableGeoJsonLayer({\n              id: 'mask-editor',\n              data:  this.state.position,\n              opacity : VISIBLE,\n              mode: TranslateMode,\n              selectedFeatureIndexes: [0],\n\n              _subLayerProps: {\n                  geojson: {\n                      getFillColor: () => [255,0,255,255],\n                      getLineColor: () => [255,255,255,255],\n                      pointRadiusMinPixels : 50,\n                      pointRadiusMaxPixels : 50\n                  }\n              },\n\n              onEdit: (event) => {\n\n                  const { updatedData, editType } = event;\n\n                 // console.log(updatedData);\n                  this.setState({position : updatedData});\n                  //this.props.setSlidePhotoRotation({ ...this.props.slidePhotoRotation, position : updatedData});\n                  if (editType === 'rotated' || editType === 'translated') {\n                      alert(asset.id);\n                      //this.props.client.mutate({mutation: SAVE_SLIDE_DATA, variables : {slide_id : slide.id, data : {...slide.data, geojson : updatedData} } });\n                   }\n\n              }\n          })\n\n        return [  edit ];\n    }\n}\n\nMaskLayer.componentName = 'EditLayer';\n",{"ruleId":"285","severity":1,"message":"286","line":1,"column":27,"nodeType":"287","messageId":"288","endLine":1,"endColumn":42},{"ruleId":"285","severity":1,"message":"289","line":1,"column":44,"nodeType":"287","messageId":"288","endLine":1,"endColumn":50},{"ruleId":"285","severity":1,"message":"290","line":1,"column":52,"nodeType":"287","messageId":"288","endLine":1,"endColumn":60},{"ruleId":"285","severity":1,"message":"291","line":14,"column":7,"nodeType":"287","messageId":"288","endLine":14,"endColumn":19},{"ruleId":"292","severity":1,"message":"293","line":27,"column":1,"nodeType":"294","endLine":94,"endColumn":2},{"ruleId":"285","severity":1,"message":"295","line":54,"column":71,"nodeType":"287","messageId":"288","endLine":54,"endColumn":77},{"ruleId":"292","severity":1,"message":"296","line":21,"column":1,"nodeType":"294","endLine":57,"endColumn":3},{"ruleId":"285","severity":1,"message":"297","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"292","severity":1,"message":"298","line":17,"column":1,"nodeType":"294","endLine":37,"endColumn":2},{"ruleId":"285","severity":1,"message":"299","line":1,"column":26,"nodeType":"287","messageId":"288","endLine":1,"endColumn":35},{"ruleId":"285","severity":1,"message":"300","line":3,"column":9,"nodeType":"287","messageId":"288","endLine":3,"endColumn":17},{"ruleId":"285","severity":1,"message":"301","line":5,"column":8,"nodeType":"287","messageId":"288","endLine":5,"endColumn":11},{"ruleId":"285","severity":1,"message":"302","line":6,"column":9,"nodeType":"287","messageId":"288","endLine":6,"endColumn":15},{"ruleId":"285","severity":1,"message":"303","line":9,"column":8,"nodeType":"287","messageId":"288","endLine":9,"endColumn":16},{"ruleId":"285","severity":1,"message":"304","line":10,"column":8,"nodeType":"287","messageId":"288","endLine":10,"endColumn":19},{"ruleId":"292","severity":1,"message":"298","line":17,"column":1,"nodeType":"294","endLine":55,"endColumn":2},{"ruleId":"305","replacedBy":"306"},{"ruleId":"307","replacedBy":"308"},{"ruleId":"292","severity":1,"message":"298","line":4,"column":1,"nodeType":"294","endLine":19,"endColumn":2},{"ruleId":"305","replacedBy":"309"},{"ruleId":"307","replacedBy":"310"},{"ruleId":"285","severity":1,"message":"297","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"285","severity":1,"message":"290","line":1,"column":26,"nodeType":"287","messageId":"288","endLine":1,"endColumn":34},{"ruleId":"285","severity":1,"message":"311","line":4,"column":24,"nodeType":"287","messageId":"288","endLine":4,"endColumn":42},{"ruleId":"285","severity":1,"message":"312","line":4,"column":44,"nodeType":"287","messageId":"288","endLine":4,"endColumn":61},{"ruleId":"285","severity":1,"message":"313","line":13,"column":8,"nodeType":"287","messageId":"288","endLine":13,"endColumn":26},{"ruleId":"285","severity":1,"message":"314","line":15,"column":10,"nodeType":"287","messageId":"288","endLine":15,"endColumn":30},{"ruleId":"285","severity":1,"message":"315","line":15,"column":32,"nodeType":"287","messageId":"288","endLine":15,"endColumn":45},{"ruleId":"285","severity":1,"message":"316","line":15,"column":47,"nodeType":"287","messageId":"288","endLine":15,"endColumn":60},{"ruleId":"285","severity":1,"message":"317","line":17,"column":9,"nodeType":"287","messageId":"288","endLine":17,"endColumn":21},{"ruleId":"285","severity":1,"message":"318","line":24,"column":9,"nodeType":"287","messageId":"288","endLine":24,"endColumn":13},{"ruleId":"285","severity":1,"message":"301","line":25,"column":8,"nodeType":"287","messageId":"288","endLine":25,"endColumn":11},{"ruleId":"285","severity":1,"message":"319","line":26,"column":23,"nodeType":"287","messageId":"288","endLine":26,"endColumn":33},{"ruleId":"285","severity":1,"message":"320","line":28,"column":25,"nodeType":"287","messageId":"288","endLine":28,"endColumn":36},{"ruleId":"292","severity":1,"message":"293","line":69,"column":1,"nodeType":"294","endLine":227,"endColumn":2},{"ruleId":"321","severity":1,"message":"322","line":175,"column":13,"nodeType":"323","messageId":"324","endLine":177,"endColumn":14},{"ruleId":"285","severity":1,"message":"325","line":1,"column":27,"nodeType":"287","messageId":"288","endLine":1,"endColumn":34},{"ruleId":"285","severity":1,"message":"326","line":5,"column":8,"nodeType":"287","messageId":"288","endLine":5,"endColumn":14},{"ruleId":"285","severity":1,"message":"327","line":5,"column":18,"nodeType":"287","messageId":"288","endLine":5,"endColumn":34},{"ruleId":"285","severity":1,"message":"312","line":5,"column":56,"nodeType":"287","messageId":"288","endLine":5,"endColumn":73},{"ruleId":"285","severity":1,"message":"328","line":22,"column":12,"nodeType":"287","messageId":"288","endLine":22,"endColumn":18},{"ruleId":"285","severity":1,"message":"329","line":24,"column":31,"nodeType":"287","messageId":"288","endLine":24,"endColumn":51},{"ruleId":"330","severity":1,"message":"331","line":36,"column":8,"nodeType":"332","endLine":36,"endColumn":28,"suggestions":"333"},{"ruleId":"292","severity":1,"message":"298","line":9,"column":1,"nodeType":"294","endLine":51,"endColumn":2},{"ruleId":"292","severity":1,"message":"298","line":16,"column":1,"nodeType":"294","endLine":34,"endColumn":12},{"ruleId":"334","severity":1,"message":"335","line":30,"column":21,"nodeType":"336","endLine":30,"endColumn":36},{"ruleId":"334","severity":1,"message":"335","line":30,"column":37,"nodeType":"336","endLine":30,"endColumn":74},{"ruleId":"285","severity":1,"message":"289","line":1,"column":27,"nodeType":"287","messageId":"288","endLine":1,"endColumn":33},{"ruleId":"285","severity":1,"message":"299","line":1,"column":35,"nodeType":"287","messageId":"288","endLine":1,"endColumn":44},{"ruleId":"285","severity":1,"message":"290","line":1,"column":46,"nodeType":"287","messageId":"288","endLine":1,"endColumn":54},{"ruleId":"337","severity":1,"message":"338","line":31,"column":45,"nodeType":"339","endLine":31,"endColumn":110},{"ruleId":"285","severity":1,"message":"289","line":1,"column":27,"nodeType":"287","messageId":"288","endLine":1,"endColumn":33},{"ruleId":"285","severity":1,"message":"340","line":22,"column":8,"nodeType":"287","messageId":"288","endLine":22,"endColumn":12},{"ruleId":"285","severity":1,"message":"341","line":30,"column":8,"nodeType":"287","messageId":"288","endLine":30,"endColumn":28},{"ruleId":"285","severity":1,"message":"342","line":71,"column":7,"nodeType":"287","messageId":"288","endLine":71,"endColumn":29},{"ruleId":"330","severity":1,"message":"343","line":93,"column":6,"nodeType":"332","endLine":93,"endColumn":13,"suggestions":"344"},{"ruleId":"305","replacedBy":"345"},{"ruleId":"307","replacedBy":"346"},{"ruleId":"305","replacedBy":"347"},{"ruleId":"307","replacedBy":"348"},{"ruleId":"285","severity":1,"message":"349","line":3,"column":8,"nodeType":"287","messageId":"288","endLine":3,"endColumn":14},{"ruleId":"285","severity":1,"message":"350","line":4,"column":8,"nodeType":"287","messageId":"288","endLine":4,"endColumn":19},{"ruleId":"285","severity":1,"message":"300","line":6,"column":9,"nodeType":"287","messageId":"288","endLine":6,"endColumn":17},{"ruleId":"292","severity":1,"message":"298","line":9,"column":1,"nodeType":"294","endLine":18,"endColumn":31},{"ruleId":"337","severity":1,"message":"338","line":15,"column":33,"nodeType":"339","endLine":15,"endColumn":111},{"ruleId":"285","severity":1,"message":"290","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"285","severity":1,"message":"299","line":1,"column":26,"nodeType":"287","messageId":"288","endLine":1,"endColumn":35},{"ruleId":"285","severity":1,"message":"351","line":2,"column":8,"nodeType":"287","messageId":"288","endLine":2,"endColumn":12},{"ruleId":"292","severity":1,"message":"298","line":5,"column":1,"nodeType":"294","endLine":11,"endColumn":2},{"ruleId":"292","severity":1,"message":"298","line":78,"column":1,"nodeType":"294","endLine":153,"endColumn":2},{"ruleId":"305","replacedBy":"352"},{"ruleId":"307","replacedBy":"353"},{"ruleId":"292","severity":1,"message":"296","line":21,"column":1,"nodeType":"294","endLine":227,"endColumn":3},{"ruleId":"305","replacedBy":"354"},{"ruleId":"307","replacedBy":"355"},{"ruleId":"285","severity":1,"message":"290","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"285","severity":1,"message":"299","line":1,"column":26,"nodeType":"287","messageId":"288","endLine":1,"endColumn":35},{"ruleId":"285","severity":1,"message":"297","line":1,"column":37,"nodeType":"287","messageId":"288","endLine":1,"endColumn":45},{"ruleId":"292","severity":1,"message":"298","line":17,"column":1,"nodeType":"294","endLine":41,"endColumn":2},{"ruleId":"285","severity":1,"message":"297","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"292","severity":1,"message":"298","line":27,"column":1,"nodeType":"294","endLine":48,"endColumn":2},{"ruleId":"305","replacedBy":"356"},{"ruleId":"307","replacedBy":"357"},{"ruleId":"285","severity":1,"message":"290","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"285","severity":1,"message":"299","line":1,"column":26,"nodeType":"287","messageId":"288","endLine":1,"endColumn":35},{"ruleId":"285","severity":1,"message":"297","line":1,"column":37,"nodeType":"287","messageId":"288","endLine":1,"endColumn":45},{"ruleId":"292","severity":1,"message":"298","line":17,"column":1,"nodeType":"294","endLine":29,"endColumn":12},{"ruleId":"305","replacedBy":"358"},{"ruleId":"307","replacedBy":"359"},{"ruleId":"285","severity":1,"message":"297","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"285","severity":1,"message":"360","line":4,"column":9,"nodeType":"287","messageId":"288","endLine":4,"endColumn":28},{"ruleId":"285","severity":1,"message":"361","line":5,"column":13,"nodeType":"287","messageId":"288","endLine":5,"endColumn":17},{"ruleId":"292","severity":1,"message":"298","line":18,"column":1,"nodeType":"294","endLine":42,"endColumn":2},{"ruleId":"285","severity":1,"message":"362","line":1,"column":8,"nodeType":"287","messageId":"288","endLine":1,"endColumn":13},{"ruleId":"285","severity":1,"message":"363","line":4,"column":22,"nodeType":"287","messageId":"288","endLine":4,"endColumn":34},{"ruleId":"285","severity":1,"message":"364","line":27,"column":11,"nodeType":"287","messageId":"288","endLine":27,"endColumn":15},{"ruleId":"305","replacedBy":"365"},{"ruleId":"307","replacedBy":"366"},{"ruleId":"330","severity":1,"message":"367","line":28,"column":8,"nodeType":"332","endLine":28,"endColumn":10,"suggestions":"368"},{"ruleId":"285","severity":1,"message":"369","line":3,"column":8,"nodeType":"287","messageId":"288","endLine":3,"endColumn":16},{"ruleId":"285","severity":1,"message":"370","line":4,"column":10,"nodeType":"287","messageId":"288","endLine":4,"endColumn":23},{"ruleId":"285","severity":1,"message":"371","line":4,"column":25,"nodeType":"287","messageId":"288","endLine":4,"endColumn":33},{"ruleId":"285","severity":1,"message":"372","line":5,"column":20,"nodeType":"287","messageId":"288","endLine":5,"endColumn":34},{"ruleId":"285","severity":1,"message":"297","line":1,"column":16,"nodeType":"287","messageId":"288","endLine":1,"endColumn":24},{"ruleId":"292","severity":1,"message":"298","line":16,"column":1,"nodeType":"294","endLine":37,"endColumn":2},{"ruleId":"285","severity":1,"message":"289","line":2,"column":16,"nodeType":"287","messageId":"288","endLine":2,"endColumn":22},{"ruleId":"285","severity":1,"message":"299","line":2,"column":24,"nodeType":"287","messageId":"288","endLine":2,"endColumn":33},{"ruleId":"292","severity":1,"message":"293","line":16,"column":1,"nodeType":"294","endLine":41,"endColumn":2},{"ruleId":"285","severity":1,"message":"364","line":22,"column":13,"nodeType":"287","messageId":"288","endLine":22,"endColumn":17},{"ruleId":"285","severity":1,"message":"373","line":8,"column":13,"nodeType":"287","messageId":"288","endLine":8,"endColumn":17},{"ruleId":"285","severity":1,"message":"374","line":2,"column":9,"nodeType":"287","messageId":"288","endLine":2,"endColumn":20},{"ruleId":"285","severity":1,"message":"375","line":3,"column":8,"nodeType":"287","messageId":"288","endLine":3,"endColumn":10},{"ruleId":"285","severity":1,"message":"315","line":5,"column":32,"nodeType":"287","messageId":"288","endLine":5,"endColumn":45},{"ruleId":"285","severity":1,"message":"376","line":12,"column":17,"nodeType":"287","messageId":"288","endLine":12,"endColumn":22},"no-unused-vars","'useLayoutEffect' is defined but never used.","Identifier","unusedVar","'useRef' is defined but never used.","'useState' is defined but never used.","'defaultThing' is assigned a value but never used.","import/no-anonymous-default-export","Unexpected default export of anonymous class","ExportDefaultDeclaration","'canvas' is assigned a value but never used.","Assign literal to a variable before exporting as module default","'Fragment' is defined but never used.","Assign arrow function to a variable before exporting as module default","'useEffect' is defined but never used.","'Mutation' is defined but never used.","'gql' is defined but never used.","'Slider' is defined but never used.","'AddPhoto' is defined but never used.","'RemovePhoto' is defined but never used.","no-native-reassign",["377"],"no-negated-in-lhs",["378"],["377"],["378"],"'LinearInterpolator' is defined but never used.","'FlyToInterpolator' is defined but never used.","'AnimatedThingLayer' is defined but never used.","'EditableGeoJsonLayer' is defined but never used.","'TransformMode' is defined but never used.","'TranslateMode' is defined but never used.","'CubeGeometry' is defined but never used.","'bbox' is defined but never used.","'PointLight' is defined but never used.","'CameraLight' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'useMemo' is defined but never used.","'DeckGL' is defined but never used.","'ScatterplotLayer' is defined but never used.","'locked' is assigned a value but never used.","'getCurrentActiveItem' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'prev' and 'slideToNextItem'. Either include them or remove the dependency array.","ArrayExpression",["379"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Deck' is defined but never used.","'SimpleRichTextEditor' is defined but never used.","'useContainerDimensions' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getDimensions'. Either include it or remove the dependency array.",["380"],["377"],["378"],["377"],["378"],"'AddGPS' is defined but never used.","'AddGPSSaver' is defined but never used.","'Rect' is defined but never used.",["377"],["378"],["377"],["378"],["377"],["378"],["377"],["378"],"'WebMercatorViewport' is defined but never used.","'turf' is defined but never used.","'React' is defined but never used.","'GeoJsonLayer' is defined but never used.","'that' is assigned a value but never used.",["377"],["378"],"React Hook useCallback has missing dependencies: 'card.id' and 'updateTripGeojson'. Either include them or remove the dependency array. If 'updateTripGeojson' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["381"],"'ReactDOM' is defined but never used.","'InMemoryCache' is defined but never used.","'HttpLink' is defined but never used.","'ApolloProvider' is defined but never used.","'self' is assigned a value but never used.","'BitmapLayer' is defined but never used.","'GL' is defined but never used.","'asset' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"382","fix":"383"},{"desc":"384","fix":"385"},{"desc":"386","fix":"387"},"Update the dependencies array to be: [card.slides.length, prev, slideToNextItem]",{"range":"388","text":"389"},"Update the dependencies array to be: [getDimensions, myRef]",{"range":"390","text":"391"},"Update the dependencies array to be: [card.id, updateTripGeojson]",{"range":"392","text":"393"},[1470,1490],"[card.slides.length, prev, slideToNextItem]",[2519,2526],"[getDimensions, myRef]",[758,760],"[card.id, updateTripGeojson]"]